@using coteo.Areas.Identity.Data
@using Microsoft.AspNetCore.Identity
@using coteo.Domain.Enum

@inject SignInManager<ApplicationUser> SignInManager

<header class="header">
    <div class="header__container _container">
        @if (SignInManager.IsSignedIn(User))
        {
            @if (ViewBag.UserRole != UserRole.User)
            {
                <a class="header__title">Контроль выполнения поручений в организации "@ViewBag.OrganizationName"</a>
            }
            else
            {
                <a class="header__title">Контроль выполнения поручений в организации</a>
            }
            
            <form id="logoutForm" class="form-inline" asp-area="Identity" asp-page="/Account/Logout" asp-route-returnUrl="@Url.Action("Index", "Home", new { area = "" })">
                <div class="header__info">
                    <button class="icon__button" type="submit"><img src="~/images/col.png" class="header__col"></button>
                    @ViewBag.ShortName
                    <button id="logout" class="icon__button" type="submit"><img src="~/images/exit.png" class="header__col"></button>
                </div>
            </form>
        }
        else
        {
            <a class="header__title">Контроль выполнения поручений в организации</a>
        }
    </div>
</header>